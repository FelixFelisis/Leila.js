<html>
<head>
  <meta charset="UTF-8">
  <title>test canvas</title>
</head>
<body>
  <script src="../build/bundle.js"></script>

  <script>

    var app = Leila(400, 400);

    app.register({
      name: "test",
      
      enter: function() {
        app.loadImages("codercat2");
      },

      render: function() {
        app.layer.drawImage(app.images.codercat2, 0, 0);
      }
    })

    // create a new state and register it
    app.register({
      name: "menu",

      enter: function() {
        app.loadImages("codercat");
      },

      onload: function() {
        this.cdc = new LEILA.Sprite(app, "codercat", 0, 0);
        this.cdc.scale(0.2, 0.2);
        this.cdc.setState({x: 10, y: 10});
      },

      keydown: function(a) {
        console.log(a.key);
        if (a.key === 'a') app.enterState('test');
      },

      render: function() {
        app.layer.clear("black");
        app.layer.fillStyle("white");
        app.layer.fillRect(this.x, 0, 10, 10);
        this.cdc.render();
      }
    });

    // enter the state 'Menu'
    app.enterState('menu');
  </script>
</body>
</html>
